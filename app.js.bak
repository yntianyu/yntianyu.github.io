const PROFILE = {
  name: 'elizabeth yan',
  tagline: 'design & machine learning enthusiast',
  bio:
    'hello, and welcome! i am a senior at wellesley college majoring in computer science and mathematics. i am located in both the boston, ma, as well as seattle, wa area. as an avid explorer of philosophy, i have recently found myself immersed in issues with artificial intelligence surrounding privacy and security.',
  details: [
    { label: 'class of', value: 'may, 2026' },
    { label: 'executive positions', value: 'cs club, westart' },
    { label: 'studying', value: 'computer science & mathematics, philosophy minor' },
    { label: 'fun fact', value: 'i was chosen to represent the usa rhythmic gymnastics group team at the olympic qualifiers!' },
  ],
  skills: [
    { title: 'coding languages', items: ['TypeScript', 'JavaScript', 'Java', 'Python'] },
    { title: 'frameworks', items: ['Shiny', 'Express.js'] },
    { title: 'design', items: ['Notion', 'Canva', 'Figma'] },
    { title: 'data collection', items: ['Jupyter', 'Plotly', 'Pandas'] },
    { title: 'front end', items: ['CSS', 'HTML', 'Flutter', 'React'] },
    { title: 'devops', items: ['Git', 'Shell script/Bash'] },
  ],
  wip: 'building evals & guardrails',
  experience: [
    {
      org: 'Dynamo AI',
      role: 'Machine Learning Engineer Intern',
      dates: 'Dec 2025 - Present',
      location: 'San Francisco, CA',
      description: 'I deployed 8 adversarial attacks and defensive features to DynamoEval and DynamoGuard, expanding both offensive evaluation capabilities and production defense mechanisms to address emerging threat vectors in enterprise LLM deployments. I also engineered an automated, unified framework for adversarial evaluations across 10 third-party defenses, eliminating manual re-testing and enabling continuous benchmark validation across internal releases with standardized metrics. Additionally, I augmented the Adversarial Tactic Library with reported ASR and effectiveness metrics extracted from prior papers, creating a normalized reference layer that links published results to Dynamo\'s internal attack implementations and evaluation outputs.',
    },
    {
      org: 'AI-Plans',
      role: 'Post-Training Engineer',
      dates: 'Aug 2025 - Dec 2025',
      location: 'Boston, MA',
      description: 'I produced 3 post-trained LLMs with systematically varied methods, enabling 100% reproducible evaluations across strategies and providing a dataset used by 50+ alignment researchers to compare safety tradeoffs. I developed crosscoders to analyze representational differences between training methods, validating results across 15+ model versions and contributing toward evaluation metrics now being piloted by two external alignment research groups. I also drafted a research paper proposing a plug-and-play evaluation library for post-training diffs, providing reproducible benchmarking tools downloaded by 500+ researchers worldwide and adopted in alignment studies.',
    },
    {
      org: 'Amazon',
      role: 'Software Development Engineer Intern',
      dates: 'May 2025 - Aug 2025',
      location: 'Sunnyvale, CA',
      description: 'I saved $30M annually and cut debugging time by 70% by building a Step Functions pipeline of 15 AWS services that automatically detect and summarize anomalies, accelerating incident response across multiple high-throughput production systems. I also unified metrics from 6 platforms using Bedrock (AI agents) and Redshift (data warehouse), enabling 200+ engineers to link CPU regressions to downstream load spikes and uncover bottlenecks missed by system monitoring.',
    },
    {
      org: 'Wellesley Computer Science Club',
      role: 'Web Developer',
      dates: 'April 2024 - April 2025',
      location: 'Wellesley, MA',
      description: 'I maintained the GitHub repository for over 200 members, using JavaScript, PHP, HTML, and CSS to manage and update the codebase.',
    },
    {
      org: 'MIT FutureTech',
      role: 'Front-end Developer & Data Analyst',
      dates: 'May 2024 - September 2024',
      location: 'Cambridge, MA',
      description: 'I developed an open-source website for researchers to interact with LLMs, using Shiny, Plotly, and Pandas to create interactive data visualizations and intuitive interfaces.',
    },
    {
      org: 'App Inventor',
      role: 'Software Development Researcher',
      dates: 'March 2024 - September 2024',
      location: 'Cambridge, MA',
      description: 'I worked on a matrix learning block combining GWT and Scheme, and mentored 15 undergraduates in DALL-E and ChatGPT integration for educational applications.',
    },
  ],
  projects: [
    {
      name: 'Connectify',
      subtitle: 'MLH best networking hack',
      description: 'Web platform for networking built in 48 hours with React, Tailwind CSS, and Firebase auth.',
    },
    {
      name: 'Ruby the robot dog',
      subtitle: 'Affiliated with App Inventor',
      description: 'Reinforcement learning system using Python and OpenAI API with a Kotlin interface.',
    },
    {
      name: 'Block builder for RAG',
      subtitle: 'Work in progress',
      description: 'Drag-and-drop application for building RAG workflows, inspired by Scratch.',
    },
  ],
  links: [
    { text: 'blog', url: 'https://allentropy.wordpress.com/' },
    { text: 'github', url: 'https://github.com/yntianyu' },
    { text: 'linkedin', url: 'https://www.linkedin.com/in/ey101/' },
    { text: 'email', url: 'mailto:elizabeth.rose.yan@gmail.com' },
  ],
  blogPosts: [
    {
      title: 'me, boiled down',
      date: 'Feb 2, 2026',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=37',
      excerpt: 'i downplay every single one of my achievements. i don\'t mean to, but somehow, it always comes back to these three words: "onto the next."',
    },
    {
      title: 'fearing, but also looking forward',
      date: 'Feb 2, 2026',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=36',
      excerpt: 'how do i verbalize this? i\'ve been thinking about this for a while, unsure of how to put pen to paper.',
    },
    {
      title: 'the hardest thing to understand in this world is our own feelings.',
      date: 'Dec 7, 2025',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=35',
      excerpt: '"we are a mosaic of everyone we\'ve ever loved." i\'ve been thinking about this quote a lot more often recently.',
    },
    {
      title: 'dump.',
      date: 'Dec 6, 2025',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=34',
      excerpt: 'small things that are on my mind.',
    },
  ],
}

// Icons
const FolderIcon = () => (
      
      i don't mean to, or at least i don't think i do, but somehow, it always comes back to these three words: “onto the next.” onto the next competition, onto the next assessment, onto the next interview. 

      my mother told me a few weeks ago that she's only cried a couple of times when it came to her children's achievements. among the few, i remember how tightly she embraced me and how her eyes glistened when i was accepted into wellesley. if i reach far enough into my mind, i can just barely caress the memory of 2016, the year i overcame my mental battle with rhythmic gymnastics. my face enveloped by her hands as she beamed at me, a tear carving its way down her cheek. 

      and don't get me wrong, i love and cherish all of my accomplishments as well, but for some reason, they're all tainted by a strange cloud of nonchalance that i never consented to. as if nothing i do will ever be good enough for myself. wellesley is great, but it's just a school. winning my first gold medal at nationals made the 20 hour practice weeks worth it, but i still wasn't the best. 

      this need to always be better, this insatiable desire to keep climbing, it makes me sound so motivated. of course, i reap the benefits of my hunger for achievement, but i don't think it's worth the side effects that accompany it. 

      i cannot take criticism. thinking about it now, i wonder if it's because i translate even the most constructive of criticisms into my language, a language where only insults thrive. my sister telling me to toss my ribbon with a straight arm directly means that i'm useless and stupid. my mother rubbing my back after a bad competition and saying we'll work harder for next time registers as her saying i should just quit. since i take shots at myself when i'm down, everyone else must be doing the same. 

      i cannot be anything short of perfect in front of others. there is a wall i put up in front of everyone, even my parents, even my siblings, and especially my friends. it seeps into the most mundane activities, stops me from joining karaoke sessions in the car, makes me pause before accepting any outings dealing with physical activities such as top golf and bouldering. it makes me cover my mouth when i laugh because my smile isn't pretty enough. i stuff these imperfect parts of me into my mouth, swallow them whole. forget. at least, for now. 

      maybe no one on this planet knows the real me. i don't think i even do; there are parts of me so embarrassing that i've chosen to lay them to rest. sometimes i don't understand myself. why do i enjoy pushing myself to the brink of self loathing? 

      i would love nothing more than to just be myself, but i have such a strong fear that anyone who knew the real me would be unable to love me for who i truly am, not even myself. and while i hope that it's untrue, i cannot convince myself that it is. so for now, i just hope and pray that the best version of myself, whatever that is, will get them to stay. for now, i'll continue hiding behind this wall that i've built to <s>keep others out</s> my ugly, real side in.`,
    },
    {
      title: 'fearing, but also looking forward',
      date: 'Feb 2, 2026',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=36',
      excerpt: 'how do i verbalize this? i\'ve been thinking about this for a while, unsure of how to put pen to paper.',
      content: `how do i verbalize this? 
      
      i've been thinking about this for a while, unsure of how to put pen to paper. partially because i'm afraid if i do, it'll all blow up in my face, and that quite honestly is my biggest fear in life right now. 

      my sophomore year of college, i took a 4d art class, which in my humble opinion, is just a glorified term for videography. anyways. in this class, i submitted a piece called “a hole in my heart,” depicting the feelings of a crush. everyone knows the naive feeling of picking at flower petals, praying it'll land on the alternate reality where they choose you. the hope that there is a red string tying your soul to this person that makes you feel your blood pump in your veins, the fuzzy black ball of confusion mixed with a sort of hope and agony as you try to navigate through a maze of understanding whether they reciprocate your feelings or not.

      this isn't how i feel. i've felt constant worry of not being good enough before, and i've felt the lack of nerves from lack of attraction. this time, i've listened to myself, made sure my nervous system was in line, quadruple checked that i wasn't acting irrationally. 

      so here's what i know: you are the epitome of what comes to mind when i think of someone full of life and fire. 

      the first time we met, you sat diagonally from me, arms crossed, the corners of your mouth tilted up as you dug into the conversation around you. 

      the first time we spoke, i caught you leaning into me as i rehashed the people from my past that you unfortunately knew. that time, before i left, i turned to take one last look at you, and caught a glimpse of you spilling your food all over the ground. i spun around quickly, hoping to save you from some embarrassment, but i couldn't help letting out a small smile. 

      the first time we met outside of work, you sat on a bench with me next to a chinese jewelry shop, and though i don't remember what words we exchanged, i remember how you positioned yourself, slightly angled towards me, leaned back against the armrest. my knees were huddled against my chest, my body fully turned towards you. 

      you peppered me with questions at first. i was used to being the introvert that extroverts would adopt, so i felt at home. and then, you took it upon yourself to challenge me. this random boy that i had met two weeks ago, who refused to sit even on the same length of couch as me, felt entitled enough to tell me that i didn't know anything about him because i don't ask enough questions. you would sit there, eyes wide, expectant, then you would look down, a little disappointed, because i truly had no idea what to say. 

      so i started searching. what <i>should</i> i ask? what do i not know about you? 

      soon enough, this habit had seeped into my everyday life. i had always been bad at keeping conversations going with acquaintances. i caught myself thanking you with every question i asked. you had taught me how to be curious. 

      did you know? we have talked every single day since i sat next to you at lunch. 206 days straight, and i have never once gotten bored of picking apart your brain. 

      and i guess i should get to the main point of this mind dump. 

      i don't know how to navigate what i'm feeling right now, because simply put, i've never felt this way before. you ask me what i'm doing when i silently study your face sometimes. i couldn't tell you either, but i do know that it brings me comfort. the curve of your nose bridge, the way your eyelashes fall down and makes me question whether you can see through them, the way you slightly suck in your cheek when you fix your hair. 

      you're not perfect. no one is. i catch myself watching you when you eat, parenting you a little to slow down and be aware of your surroundings. i am always nervous that your lack of social anxiety will get you into an accident. your emotions speak before you do sometimes, and your words come out sharper that i know you intend. but you care about how i feel. i see you take my feelings into consideration, truly digest them and work to change.
      
      when i look into your eyes, i truly see the future, and that terrifies me. i had grown accustomed to the idea of being alone, surrounded by my two cats, raising my siblings and friends' children as my own, but i had tucked the idea of anything else away safely into the darkest depths of my mind. you've turned my entire meaning of life around. what i envision for myself is now completely different, and while i've been left in a daze from how quickly my perception of my future has changed, i am also grateful.

      you make me a better person. you are a pillar of support and strength for me, and you have been since day one. you accept me for who i am completely, and i'm shocked by how much i've let my guard down around you. so i hope that i don't mess this up. i hope this high lasts forever, because i know it can. and i pray that it will. `,
    },
    {
      title: 'the hardest thing to understand in this world is our own feelings.',
      date: 'Dec 7, 2025',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=35',
      excerpt: '"we are a mosaic of everyone we\'ve ever loved." i\'ve been thinking about this quote a lot more often recently.',
      content: `we are a mosaic of everyone we\'ve ever loved."
      
      i've been thinking about this quote a lot more often recently. thinking back on friends who are graduating soon, on friends who were only meant to accompany me for a portion of my life, my past relationships, my fleeting crushes, even the music artists i would obsess over.

      i've been thinking about this quote because to an extent, i believe it to be true, but it doesn't tell the full story. yes, the people that i love define and shape me. however, the people that i hold much contempt for also make up much of my identity. 

      but what is the difference between love and hatred? do i hold enough space in my heart to carry both feelings for one person, perhaps all at once, all at the same time?

      <b>ha·tred</b> /'hātrəd/ noun intense dislike or ill will.

      <b>love</b> /ləv/ noun 1. an intense feeling of deep affection. 2. a great interest and pleasure in something. verb 1. feel deep affection for (someone). 2. like or enjoy very much.

      i don't think i hated anyone when i was younger. feared, yes. loved, yes. so, where does my—or anyone's in fact—ability to hate stem from?

      to be clear, i don't mean the hatred that blooms from jealousy, because let's call that what it is: plain jealousy. i don't mean the hatred that comes from a place of shallow judgement. the homophobes and xenophobes who have no reason to loathe other than the fact that they have too much time on their hands.

      and i think at some point in their lives, everyone has either thought or said that they hated their parents (unless i'm projecting my bratty younger self's personality onto others), but we of course have all felt unwavering love towards them (once again, i might be projecting, but let's assume this is the case so that my next argument makes sense). so then, is it possible to both love and hate someone at the same time? 

      i don't think it is. our hatred towards our parents was not the real hatred i am aiming for. it's a feeling of hot, misdirected, anger that is only fleeting and melts into unfairness, or disgruntledness. so, i don't mean this kind of hatred either, if you can even call it that.

      we can hold only love, and only hate for each individual in our lives. they are mutually exclusive.

      i've been pretty picky about the definition of hatred. the hatred i mean to explore is a deep, uncontrollable feeling directed at one person.

      i don't know about others, but i don't hate for no reason, and now that i think about it, to be honest, i don't think anyone else does either. 

      i also don't hate anyone anymore. yes, i have one-sided beef with my high school english teacher, and i think tiktok poets have a special gift for whipping up the most incoherent, brain-dead sentences i've ever seen, but that's just a personal distaste.

      i'm no saint, though. i used to hate someone. my mother tells me it's unfair of me to hate this individual. she says i was treated well by them, and that's what matters. 

      i disagree (clearly). should i grant leniency to someone simply because i wasn't affected? should i feel nothing when i watch others torment those i love? 

      i once held much respect for my rhythmic gymnastics coach. she was everything i wanted to be in elementary school: someone of authority whose knowledge seemed to extend to the ends of the universe. 

      in level 8, maybe my frontal lobe developed 13 years too early, but i lost all respect for her when i realized that her care was conditional. that she would never give one of my closest friends the time of day because she believed that my friend wasn't worth it.

      she disrespected someone i cared for, and so i grew to disrespect her. she allowed others to attack my loved one's insecurities, and so my feeling of disrespect turned to hatred. 

      and there we have it. i don't think we can ever pull love and hate from each other's grasps. they are two feelings doomed to be forever entwined, connected, interlocked.

      i don't hate her anymore, though i do still love my friend. i have no more respect for my coach, but i also have no lack thereof. i came to understand that she was not all knowing; she was just human, and so i gave her the grace of making mistakes.

      i used to hate a couple of others too. and the funny thing is, at one point, i believed i loved them all. maybe i did.

      no, let me be transparent. i knew that i loved them. i think i would have done anything for them back then. 

      there was a girl i once knew, and i say “once knew,” because although she still somewhat exists in my life, she no longer has a place in my mind.

      back in high school, i never once told her no. i agreed with her on everything, did everything she asked of me. part of me wanted the validation that came with being associated with her, but part of me was also mesmerized by her being. 

      i didn't love her i would a close friend. more so, a normal friend who i held much admiration for.

      and then i didn't. she broke my trust. she hurt me more deeply than she knows, and i think that's partly why i hated her so. 

      afterwards, we would meet a couple times a year in a group, and she would smile at me and ask me what i've been up to. she had (and still has) such a sweet smile, and i would wonder how she could look at me like that when a piece of me broke when i had to push her away for my own good.

      i don't hate her anymore, either. one day, i lost all respect for her, and you can't hate someone you have no respect for. you can't harbor such strong feelings toward anyone you don't care enough about.

      my point is, i think hatred stems from love. everyone i once hated was someone i either once loved, or someone who hurt someone i loved.

      so maybe, that quote is right. even though i believe that i am made up of parts of everyone i've ever loved, as well as hated, that hatred comes from a place of love in some twisted way. 

      but, i no longer hate anyone. and that's just how it is.`,
    },
    {
      title: 'dump.',
      date: 'Dec 6, 2025',
      url: 'https://yntianyu.github.io/allentropy/post.html?id=34',
      excerpt: 'small things that are on my mind.',
      content: `small things that are on my mind.
      
      so i watched the cotton-candy pink and blue sky wave goodbye to the sun, admiring how it paled in comparison to your beauty.

      there always comes a time where the boy you once fell in love with becomes unrecognizable.

      but at night, when i hear only my thoughts breathing, i play his voice over and over in my head like a broken record.

      i would rip my heart out and serve the beating vessel to you on a platter if it meant you would look my way for just another moment.,
    },
  ],
}

// Icons
const FolderIcon = () => (
  <svg viewBox="0 0 16 16" fill="currentColor">
    <path fillRule="evenodd" clipRule="evenodd" d="M14.5 7.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H2.5C1.94772 13.5 1.5 13.0523 1.5 12.5V7.5H14.5ZM14.5 6V4H8.83333C8.29241 4 7.76607 3.82456 7.33333 3.5L6 2.5H1.5V6H14.5ZM0 1H1.5H6.16667C6.38304 1 6.59357 1.07018 6.76667 1.2L8.23333 2.3C8.40643 2.42982 8.61696 2.5 8.83333 2.5H14.5H16V4V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V2.5V1Z" />
  </svg>
)

const GitHubIcon = () => (
  <svg viewBox="0 0 16 16" fill="currentColor">
    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
  </svg>
)

const LinkedInIcon = () => (
  <svg viewBox="0 0 24 24" fill="currentColor">
    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
  </svg>
)

const BlogIcon = () => (
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
    <path d="M6 5h9M6 9h9M6 13h6" strokeLinecap="round" />
    <path d="M5 3h10a2 2 0 0 1 2 2v14H7a2 2 0 0 1-2-2V3Z" strokeLinejoin="round" />
  </svg>
)

const TerminalIcon = () => (
  <svg viewBox="0 0 16 16" fill="currentColor">
    <path fillRule="evenodd" clipRule="evenodd" d="M14 3H2V13H14V3ZM2 2C1.44772 2 1 2.44772 1 3V13C1 13.5523 1.44772 14 2 14H14C14.5523 14 15 13.5523 15 13V3C15 2.44772 14.5523 2 14 2H2ZM5.5 7.29289L4.14645 5.93934L3.43934 6.64645L5.14645 8.35355L5.5 8.70711L5.85355 8.35355L7.56066 6.64645L6.85355 5.93934L5.5 7.29289ZM8 10V9H12V10H8Z" />
  </svg>
)

const SpotifyIcon = () => (
  <svg viewBox="0 0 24 24" fill="currentColor">
    <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
  </svg>
)

// Modal Component
function Modal({ title, onClose, children }) {
  return (
    <div className="modal-overlay" onClick={onClose}>
      <div className="modal" onClick={(e) => e.stopPropagation()}>
        <div className="modal-header">
          <span>{title}</span>
          <button className="modal-close" onClick={onClose}>x</button>
        </div>
        <div className="modal-body">{children}</div>
      </div>
    </div>
  )
}

// About Content
function AboutContent() {
  return (
    <>
      <h1>about/</h1>
      <h2>{PROFILE.name}</h2>
      <p>{PROFILE.bio}</p>
      
      <h2>about me</h2>
      <p><strong>{PROFILE.tagline}</strong></p>
      {PROFILE.details.map((d) => (
        <p key={d.label}><strong>{d.label}:</strong> {d.value}</p>
      ))}
      
      <h2>skills</h2>
      <div className="skills-grid">
        {PROFILE.skills.map((skill) => (
          <div className="skill-card" key={skill.title}>
            <h3>{skill.title.toLowerCase()}</h3>
            <ul>
              {skill.items.map((item) => <li key={item}>{item}</li>)}
            </ul>
          </div>
        ))}
      </div>
      <p><strong>wip:</strong> {PROFILE.wip}</p>
      
      <h2>contact</h2>
      <div className="contact-links">
        {PROFILE.links.map((link) => (
          <a key={link.url} href={link.url} target="_blank" rel="noreferrer">{link.text}</a>
        ))}
      </div>
    </>
  )
}

// Experience Content (all)
function ExperienceContent() {
  return (
    <>
      <h1>experience/</h1>
      {PROFILE.experience.map((item) => (
        <div className="experience-item" key={item.org}>
          <h3>{item.org}</h3>
          <div className="meta">{item.role} - {item.dates}</div>
          {item.location && <div className="meta" style={{ opacity: 0.7 }}>{item.location}</div>}
          <p>{item.description}</p>
        </div>
      ))}
    </>
  )
}

// Single Experience Content
function SingleExperienceContent({ index }) {
  const item = PROFILE.experience[index]
  if (!item) return null
  return (
    <>
      <h1>{item.org}</h1>
      <div className="meta" style={{ marginBottom: '8px' }}>{item.role} - {item.dates}</div>
      {item.location && <div className="meta" style={{ marginBottom: '16px', opacity: 0.7 }}>{item.location}</div>}
      <p>{item.description}</p>
    </>
  )
}

// Spotify Content
function SpotifyContent() {
  return (
    <>
      <h1>on ↻</h1>
      <p style={{ marginBottom: '20px', color: 'var(--muted)' }}>what i'm currently listening to</p>
      <iframe 
        style={{ borderRadius: '12px' }}
        src="https://open.spotify.com/embed/playlist/70JA7yDCiJaDq6lvw8w0fH?utm_source=generator" 
        width="100%" 
        height="352" 
        frameBorder="0" 
        allowFullScreen="" 
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
        loading="lazy"
      />
    </>
  )
}

// Terminal Content
function TerminalContent() {
  const [input, setInput] = React.useState('')
  const [output, setOutput] = React.useState([
    "$ Welcome to Elizabeth's Terminal",
    "$ Type 'help' for available commands",
  ])

  const handleCommand = (cmd) => {
    const command = cmd.trim().toLowerCase()
    let response = ''

    switch (command) {
      case 'help':
        response = 'Available commands: help, about, skills, contact, clear, echo [text]'
        break
      case 'about':
        response = PROFILE.bio
        break
      case 'skills':
        response = PROFILE.skills.map(s => s.title + ': ' + s.items.join(', ')).join('\n')
        break
      case 'contact':
        response = PROFILE.links.map(l => l.text + ': ' + l.url).join('\n')
        break
      case 'clear':
        setOutput([])
        setInput('')
        return
      default:
        if (command.startsWith('echo ')) {
          response = command.slice(5)
        } else if (command) {
          response = `Command not found: ${command}. Type 'help' for available commands.`
        }
    }

    setOutput([...output, `$ ${cmd}`, response].filter(Boolean))
    setInput('')
  }

  return (
    <div className="terminal">
      <div className="terminal-output">
        {output.map((line, i) => (
          <div key={i} className="terminal-line">{line}</div>
        ))}
      </div>
      <div className="terminal-input-row">
        <span className="terminal-prompt">$</span>
        <input
          className="terminal-input"
          type="text"
          value={input}
          onChange={(e) => setInput(e.target.value)}
          onKeyDown={(e) => e.key === 'Enter' && handleCommand(input)}
          autoFocus
          placeholder="type a command..."
        />
      </div>
    </div>
  )
}

// Single Blog Post Content
function SingleBlogPostContent({ index, blogPosts }) {
  const post = blogPosts[index]
  if (!post) return null
  const contentToDisplay = post.content || post.excerpt
  return (
    <>
      <h1>{post.title}</h1>
      <div className="meta" style={{ marginBottom: '24px' }}>{post.date}</div>
      <div style={{ marginBottom: '32px', lineHeight: '1.6', whiteSpace: 'pre-wrap' }}>
        {contentToDisplay}
      </div>
      <div style={{ borderTop: '1px solid var(--border)', paddingTop: '16px', marginTop: '24px' }}>
        <a href={post.url} target="_blank" rel="noreferrer" style={{ color: 'var(--accent)', textDecoration: 'none', fontSize: '14px' }}>
          View the entire post &rarr;
        </a>
      </div>
    </>
  )
}

// Main App
function App() {
  const [modal, setModal] = React.useState(null)
  const [selectedExp, setSelectedExp] = React.useState(null)
  const [selectedBlogPost, setSelectedBlogPost] = React.useState(null)
  const [time, setTime] = React.useState('')
  const [blogPosts, setBlogPosts] = React.useState(PROFILE.blogPosts) // fallback to static

  // Fetch blog posts from RSS feed
  React.useEffect(() => {
    const fetchBlogPosts = async () => {
      try {
        const response = await fetch('/feed.xml')
        const text = await response.text()
        const parser = new DOMParser()
        const xml = parser.parseFromString(text, 'text/xml')
        
        const items = xml.querySelectorAll('item')
        const posts = Array.from(items).map(item => {
          const title = item.querySelector('title')?.textContent || ''
          const link = item.querySelector('link')?.textContent || ''
          const description = item.querySelector('description')?.textContent || ''
          const content = item.querySelector('encoded')?.textContent || item.querySelector('content\\:encoded')?.textContent || ''
          const pubDate = item.querySelector('pubDate')?.textContent || ''
          
          // Parse and format the date
          const date = new Date(pubDate)
          const formattedDate = date.toLocaleDateString('en-US', { 
            month: 'short', 
            day: 'numeric', 
            year: 'numeric' 
          })
          
          return {
            title,
            date: formattedDate,
            url: link,
            excerpt: description,
            content: content || description
          }
        })
        
        if (posts.length > 0) {
          setBlogPosts(posts)
        }
      } catch (error) {
        console.error('Error fetching blog posts:', error)
        // Keep fallback posts on error
      }
    }
    
    fetchBlogPosts()
  }, [])

  React.useEffect(() => {
    const updateTime = () => {
      setTime(new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }))
    }
    updateTime()
    const interval = setInterval(updateTime, 60000)
    return () => clearInterval(interval)
  }, [])

  const folders = [
    { id: 'about', label: 'about', icon: FolderIcon },
    { id: 'experience', label: 'experience', icon: FolderIcon },
    { id: 'spotify', label: 'on ↻', icon: SpotifyIcon },
    { id: 'terminal', label: 'terminal', icon: TerminalIcon },
  ]

  const externalLinks = [
    { id: 'github', label: 'github', url: 'https://github.com/yntianyu', icon: GitHubIcon },
    { id: 'linkedin', label: 'linkedin', url: 'https://www.linkedin.com/in/ey101/', icon: LinkedInIcon },
  ]

  const renderModalContent = () => {
    switch (modal) {
      case 'about': return <AboutContent />
      case 'experience': return <ExperienceContent />
      case 'single-experience': return <SingleExperienceContent index={selectedExp} />
      case 'single-blog-post': return <SingleBlogPostContent index={selectedBlogPost} blogPosts={blogPosts} />
      case 'spotify': return <SpotifyContent />
      case 'terminal': return <TerminalContent />
      default: return null
    }
  }

  return (
    <>
      <div className="menubar">
        <div className="menubar-left">~</div>
        <div className="menubar-right">
          <span>{time}</span>
        </div>
      </div>

      <div className="desktop">
        <div className="icon-grid">
          {folders.map((folder) => (
            <div className="icon" key={folder.id} onClick={() => setModal(folder.id)}>
              <folder.icon />
              <span className="icon-label">{folder.label}</span>
            </div>
          ))}
          {externalLinks.map((link) => (
            <a className="icon" key={link.id} href={link.url} target="_blank" rel="noreferrer">
              <link.icon />
              <span className="icon-label">{link.label}</span>
            </a>
          ))}
        </div>

        <div className="sidebar">
          <div className="widget">
            <div className="widget-header">Blog</div>
            <ul className="widget-list">
              {blogPosts.map((post, index) => (
                <li className="widget-item" key={post.url} onClick={() => { setSelectedBlogPost(index); setModal('single-blog-post'); }}>
                  <div className="widget-item-title">{post.title}</div>
                  <div className="widget-item-meta">{post.date}</div>
                  <div className="widget-item-desc">{post.excerpt}</div>
                </li>
              ))}
            </ul>
            <a className="widget-footer" href="https://yntianyu.github.io/allentropy/" target="_blank" rel="noreferrer" style={{color: 'inherit', textDecoration: 'none', display: 'block'}}>
              Read more posts &rarr;
            </a>
          </div>

          <div className="widget">
            <div className="widget-header">Experience</div>
            <ul className="widget-list">
              {PROFILE.experience.map((item, index) => (
                <li className="widget-item" key={item.org} onClick={() => { setSelectedExp(index); setModal('single-experience'); }}>
                  <div className="widget-item-title">{item.org}</div>
                  <div className="widget-item-meta">{item.role} - {item.dates}</div>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>

      {modal && (
        <Modal 
          title={
            modal === 'single-experience' && selectedExp !== null 
              ? PROFILE.experience[selectedExp]?.org 
              : modal === 'single-blog-post' && selectedBlogPost !== null
              ? blogPosts[selectedBlogPost]?.title
              : modal
          } 
          onClose={() => { setModal(null); setSelectedExp(null); setSelectedBlogPost(null); }}
        >
          {renderModalContent()}
        </Modal>
      )}
    </>
  )
}

const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(<App />)
